!function(){"use strict";function t(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function e(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var o=t._ended+t._active,i=t._tasks[o],u=i.length-1,a=i[u];i[u]=function(t,o){return function(i,u){t._tasks[o]&&(--t._active,++t._ended,t._tasks[o]=null,null==t._error&&(null!=i?n(t,i):(t._data[o]=u,t._waiting?e(t):r(t))))}}(t,o),--t._waiting,++t._active,i=a.apply(null,i),t._tasks[o]&&(t._tasks[o]=i||Yt)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])n(t,e);else if(!t._data)throw e}}function n(t,e){var n,o=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--o>=0;)if((n=t._tasks[o])&&(t._tasks[o]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,r(t)}function r(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function o(e){if(null==e)e=1/0;else if(!((e=+e)>=1))throw new Error("invalid concurrency");return new t(e)}function i(){}function u(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,o=-1,u=t.length;if(null==e)for(;++o<u;)n.set(o,t[o]);else for(;++o<u;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function a(){}function c(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new s(r)}function s(t){this._=t}function l(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=Ot,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function f(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function g(t,e,n,r){function o(e){return t(e=new Date(+e)),e}return o.floor=o,o.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},o.round=function(t){var e=o(t),n=o.ceil(t);return t-e<n-t?e:n},o.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},o.range=function(n,r,i){var u,a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(u=new Date(+n)),e(n,i),t(n)}while(u<n&&n<r);return a},o.filter=function(n){return g(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(o.count=function(e,r){return zt.setTime(+e),Wt.setTime(+r),t(zt),t(Wt),Math.floor(n(zt,Wt))},o.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o.filter(r?function(e){return r(e)%t==0}:function(e){return o.count(0,e)%t==0}):o:null}),o}function h(t){return g(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xt)/Jt})}function d(t){return g(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Jt})}function m(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function v(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function p(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function w(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function y(t){return t.replace(de,"\\$&")}function T(t){return new RegExp("^(?:"+t.map(y).join("|")+")","i")}function C(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function M(t,e,n){var r=ge.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _(t,e,n){var r=ge.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function U(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function D(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function b(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function S(t,e,n){var r=ge.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function I(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function x(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function E(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function k(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function F(t,e,n){var r=ge.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function H(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function L(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Y(t,e,n){var r=ge.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function A(t,e,n){var r=ge.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function O(t,e,n){var r=ge.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function j(t,e,n){var r=he.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function B(t,e,n){var r=ge.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function R(t,e,n){var r=ge.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function $(t,e){return w(t.getDate(),e,2)}function N(t,e){return w(t.getHours(),e,2)}function P(t,e){return w(t.getHours()%12||12,e,2)}function Z(t,e){return w(1+Qt.count(te(t),t),e,3)}function z(t,e){return w(t.getMilliseconds(),e,3)}function W(t,e){return z(t,e)+"000"}function V(t,e){return w(t.getMonth()+1,e,2)}function X(t,e){return w(t.getMinutes(),e,2)}function J(t,e){return w(t.getSeconds(),e,2)}function Q(t){var e=t.getDay();return 0===e?7:e}function q(t,e){return w(qt.count(te(t),t),e,2)}function G(t,e){var n=t.getDay();return t=n>=4||0===n?Kt(t):Kt.ceil(t),w(Kt.count(te(t),t)+(4===te(t).getDay()),e,2)}function K(t){return t.getDay()}function tt(t,e){return w(Gt.count(te(t),t),e,2)}function et(t,e){return w(t.getFullYear()%100,e,2)}function nt(t,e){return w(t.getFullYear()%1e4,e,4)}function rt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+w(e/60|0,"0",2)+w(e%60,"0",2)}function ot(t,e){return w(t.getUTCDate(),e,2)}function it(t,e){return w(t.getUTCHours(),e,2)}function ut(t,e){return w(t.getUTCHours()%12||12,e,2)}function at(t,e){return w(1+ee.count(ie(t),t),e,3)}function ct(t,e){return w(t.getUTCMilliseconds(),e,3)}function st(t,e){return ct(t,e)+"000"}function lt(t,e){return w(t.getUTCMonth()+1,e,2)}function ft(t,e){return w(t.getUTCMinutes(),e,2)}function gt(t,e){return w(t.getUTCSeconds(),e,2)}function ht(t){var e=t.getUTCDay();return 0===e?7:e}function dt(t,e){return w(ne.count(ie(t),t),e,2)}function mt(t,e){var n=t.getUTCDay();return t=n>=4||0===n?oe(t):oe.ceil(t),w(oe.count(ie(t),t)+(4===ie(t).getUTCDay()),e,2)}function vt(t){return t.getUTCDay()}function pt(t,e){return w(re.count(ie(t),t),e,2)}function wt(t,e){return w(t.getUTCFullYear()%100,e,2)}function yt(t,e){return w(t.getUTCFullYear()%1e4,e,4)}function Tt(){return"+0000"}function Ct(){return"%"}function Mt(t){return+t}function _t(t){return Math.floor(+t/1e3)}function Ut(t,e){return void 0===e&&(e=432e3),"https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?url="+t+"&container=focus&refresh="+e}function Dt(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function bt(t,e){for(var n=document.getElementById("output").clientHeight*window.devicePixelRatio/t,r=0;r<e.length;r++){var o=e[r];if(o>n)return{blocks:o,level:r}}var i=e.length-1;return{blocks:e[i],level:i}}function St(t){document.getElementById("time").innerHTML=t===Be?"":'<abbr title="'+t+'">'+function(t){var e=Math.floor(((new Date).getTime()-t.getTime())/1e3),n=Math.floor(e/31536e3);return n>1?n+" years":(n=Math.floor(e/2592e3))>1?n+" months":(n=Math.floor(e/86400))>1?n+" days":(n=Math.floor(e/3600))>1?n+" hours":(n=Math.floor(e/60))>1?n+" minutes":Math.floor(e)+" seconds"}(t)+"</abbr> ago"}function It(t,e){St(t),Pe=t,function(t){switch(document.body.classList.remove("himawari"),document.body.classList.remove("dscovr"),document.body.classList.remove("goes"),document.body.classList.remove("goes16"),t){case Me:case _e:document.body.classList.add("himawari");break;case Ue:case De:document.body.classList.add("dscovr");break;case Ie:document.body.classList.add("goes16");break;case be:case Se:document.body.classList.add("goes");break;default:console.warn("Unknown image type",t)}}(e),Ze=e}function xt(t,e){function n(t,e){var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){c.drawImage(n,t.x*xe,t.y*xe,xe,xe),e()},n.src=t.url}if(!Pe||t.getTime()!==Pe.getTime()||Ze!==e){var r=!localStorage.getItem(Oe);r&&It(t,e);var i=function(t){for(var e=ve+(t.type||_e),n=t.date,r=t.blocks,o=e+"/"+r+"d/"+xe+"/"+se("%Y/%m/%d/%H%M%S")(n),i=[],u=0;u<r;u++)for(var a=0;a<r;a++){var c=o+"_"+a+"_"+u+".png";i.push({url:Ut(c),x:a,y:u})}return{blocks:r,date:n,tiles:i}}({blocks:bt(xe,Ee).blocks,date:t,type:e}),u=i.blocks*xe,a=r?document.getElementById("output"):document.createElement("canvas"),c=a.getContext("2d");c.canvas.width=u,c.canvas.height=u;var s=o();i.tiles.forEach(function(t){s.defer(n,t)}),s.awaitAll(function(n){if(n)throw n;if(!r){var o=document.getElementById("output").getContext("2d");o.canvas.width=u,o.canvas.height=u,o.drawImage(a,0,0)}It(t,e);var i=a.toDataURL("image/jpeg",Ye);localStorage.setItem(Ae,i),localStorage.setItem(Oe,t.toString()),localStorage.setItem(je,e)})}}function Et(t,e){function n(t,e){var n=new Image;n.setAttribute("crossOrigin","anonymous"),n.onload=function(){c.drawImage(n,t.x*xe,t.y*xe,xe,xe),e()},n.src=t.url}if(!Pe||t.getTime()!==Pe.getTime()||Ze!==e){var r=!localStorage.getItem(Oe);r&&It(t,e);var i=function(t){for(var e=t.date,n=t.blocks,r=t.level,o=se("%Y%m%d")(t.date),i=se("%Y%m%d%H%M%S")(t.date),u=Te+"/imagery/"+o+"/goes-16---full_disk/geocolor/"+i+"/",a=[],c=0;c<n;c++)for(var s=0;s<n;s++){var l=""+u+Dt(r,2)+"/"+Dt(c,3)+"_"+Dt(s,3)+".png";a.push({url:Ut(l),x:s,y:c})}return{blocks:n,date:e,tiles:a}}(Ht({date:t},bt(ke,Fe))),u=i.blocks*xe,a=r?document.getElementById("output"):document.createElement("canvas"),c=a.getContext("2d");c.canvas.width=u,c.canvas.height=u;var s=o();i.tiles.forEach(function(t){s.defer(n,t)}),s.awaitAll(function(n){if(n)throw n;if(!r){var o=document.getElementById("output").getContext("2d");o.canvas.width=u,o.canvas.height=u,o.drawImage(a,0,0)}It(t,e);var i=a.toDataURL("image/jpeg",Ye);localStorage.setItem(Ae,i),localStorage.setItem(Oe,t.toString()),localStorage.setItem(je,e)})}}function kt(){function t(t){!function(t,e){jt("https://himawari-8.appspot.com/latest"+(t===Me?"?infrared=true":""),function(t,n){if(t)throw t;var r=n.date;e(le("%Y-%m-%d %H:%M:%S")(r))})}(t,function(e){xt(e,t)})}function e(t){!function(t,e){jt("http://epic.gsfc.nasa.gov/api/"+(t===De?"enhanced":"natural"),function(t,n){if(t)throw t;if(0!==n.length){var r=n[n.length-1];e({date:le("%Y-%m-%d %H:%M:%S")(r.date),image:r.image})}})}(t,function(e){!function(t,e){if(!Pe||t.date.getTime()!==Pe.getTime()||Ze!==e){var n=!localStorage.getItem(Oe);n&&It(t.date,e);var r=n?document.getElementById("output"):document.createElement("canvas"),o=r.getContext("2d");o.canvas.width=He,o.canvas.height=He;var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){if(o.drawImage(i,0,0),!n){var u=document.getElementById("output").getContext("2d");u.canvas.width=He,u.canvas.height=He,u.drawImage(r,0,0)}It(t.date,e);var a=r.toDataURL("image/jpeg",Ye);localStorage.setItem(Ae,a),localStorage.setItem(Oe,t.date.toString()),localStorage.setItem(je,e)};var u=e===De?"enhanced":"natural",a=Dt(t.date.getMonth()+1,2),c=Dt(t.date.getDate(),2);i.src=Ut(""+pe+u+"/"+t.date.getFullYear()+"/"+a+"/"+c+"/png/"+t.image+".png")}}(e,t)})}function n(t){!function(t){jt(Te+"json/goes-16/full_disk/geocolor/latest_times.json",function(e,n){if(e)throw e;t(le("%Y%m%d%H%M%S")(n.timestamps_int[0]))})}(function(e){Et(e,t)})}navigator.onLine&&($e?Re.storage.sync.get(Ne).then(function(r){switch(r.imageType){case Ue:case De:e(r.imageType);break;case be:case Se:!function(t){var e=localStorage.getItem(je),n=!e||e!==be&&e!==Se;n&&It(Be,t);var r=n?document.getElementById("output"):document.createElement("canvas"),o=r.getContext("2d");o.canvas.width=Le,o.canvas.height=Le;var i=new Image;i.setAttribute("crossOrigin","anonymous"),i.onload=function(){if(o.drawImage(i,0,0),!n){var e=document.getElementById("output").getContext("2d");e.canvas.width=Le,e.canvas.height=Le,e.drawImage(r,0,0)}It(Be,t);var u=r.toDataURL("image/jpeg",Ye);localStorage.setItem(Ae,u),localStorage.setItem(Oe,String(Be)),localStorage.setItem(je,t)},i.src=Ut(t===Se?ye:we,3600)}(r.imageType);break;case Ie:n(r.imageType);break;case Me:case _e:default:t(r.imageType)}}):t(_e))}function Ft(){localStorage.getItem(Oe)&&function(){var t=document.getElementById("output").getContext("2d"),e=new Date(localStorage.getItem(Oe)),n=new Image;n.onload=function(){t.canvas.width=n.width,t.canvas.height=n.height,t.drawImage(n,0,0),It(e,localStorage.getItem(je))},n.src=localStorage.getItem(Ae)}(),kt()}var Ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Lt=[].slice,Yt={};t.prototype=o.prototype={constructor:t,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=Lt.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),e(this),this},abort:function(){return null==this._error&&n(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},r(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,r(this),this}};i.prototype=u.prototype={constructor:i,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var At=u.prototype;a.prototype=function(t,e){var n=new a;if(t instanceof a)t.each(function(t){n.add(t)});else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}.prototype={constructor:a,has:At.has,add:function(t){return t+="",this["$"+t]=t,this},remove:At.remove,clear:At.clear,values:At.keys,size:At.size,empty:At.empty,each:At.each};var Ot={value:function(){}};s.prototype=c.prototype={constructor:s,on:function(t,e){var n,r=this._,o=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),i=-1,u=o.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<u;)if(n=(t=o[i]).type)r[n]=l(r[n],t.name,e);else if(null==e)for(n in r)r[n]=l(r[n],t.name,null);return this}for(;++i<u;)if((n=(t=o[i]).type)&&(n=function(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new s(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var jt=function(t,e){return function(n,r){var o=function(t,e){function n(t){var e,n=f.status;if(!n&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(f)||n>=200&&n<300||304===n){if(i)try{e=i.call(r,f)}catch(t){return void s.call("error",r,t)}else e=f;s.call("load",r,e)}else s.call("error",r,t)}var r,o,i,a,s=c("beforesend","progress","load","error"),l=u(),f=new XMLHttpRequest,g=null,h=null,d=0;if("undefined"==typeof XDomainRequest||"withCredentials"in f||!/^(http(s)?:)?\/\//.test(t)||(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=f.ontimeout=n:f.onreadystatechange=function(t){f.readyState>3&&n(t)},f.onprogress=function(t){s.call("progress",r,t)},r={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l.get(t):(null==e?l.remove(t):l.set(t,e+""),r)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",r):o},responseType:function(t){return arguments.length?(a=t,r):a},timeout:function(t){return arguments.length?(d=+t,r):d},user:function(t){return arguments.length<1?g:(g=null==t?null:t+"",r)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",r)},response:function(t){return i=t,r},get:function(t,e){return r.send("GET",t,e)},post:function(t,e){return r.send("POST",t,e)},send:function(e,n,i){return f.open(e,t,!0,g,h),null==o||l.has("accept")||l.set("accept",o+",*/*"),f.setRequestHeader&&l.each(function(t,e){f.setRequestHeader(e,t)}),null!=o&&f.overrideMimeType&&f.overrideMimeType(o),null!=a&&(f.responseType=a),d>0&&(f.timeout=d),null==i&&"function"==typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=function(t){return function(e,n){t(null==e?n:null)}}(i)),null!=i&&r.on("error",i).on("load",function(t){i(null,t)}),s.call("beforesend",r,f),f.send(null==n?null:n),r},abort:function(){return f.abort(),r},on:function(){var t=s.on.apply(s,arguments);return t===s?r:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return r.get(e)}return r}(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return o.get(r)}return o}}("application/json",function(t){return JSON.parse(t.responseText)}),Bt={},Rt={},$t=34,Nt=10,Pt=13,Zt=function(t){function e(t,e){function n(){if(s)return Rt;if(l)return l=!1,Bt;var e,n,r=a;if(t.charCodeAt(r)===$t){for(;a++<u&&t.charCodeAt(a)!==$t||t.charCodeAt(++a)===$t;);return(e=a)>=u?s=!0:(n=t.charCodeAt(a++))===Nt?l=!0:n===Pt&&(l=!0,t.charCodeAt(a)===Nt&&++a),t.slice(r+1,e-1).replace(/""/g,'"')}for(;a<u;){if((n=t.charCodeAt(e=a++))===Nt)l=!0;else if(n===Pt)l=!0,t.charCodeAt(a)===Nt&&++a;else if(n!==i)continue;return t.slice(r,e)}return s=!0,t.slice(r,u)}var r,o=[],u=t.length,a=0,c=0,s=u<=0,l=!1;for(t.charCodeAt(u-1)===Nt&&--u,t.charCodeAt(u-1)===Pt&&--u;(r=n())!==Rt;){for(var f=[];r!==Bt&&r!==Rt;)f.push(r),r=n();e&&null==(f=e(f,c++))||o.push(f)}return o}function n(e){return e.map(r).join(t)}function r(t){return null==t?"":o.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var o=new RegExp('["'+t+"\n\r]"),i=t.charCodeAt(0);return{parse:function(t,n){var r,o,i=e(t,function(t,e){if(r)return r(t,e-1);o=t,r=n?function(t,e){var n=f(t);return function(r,o){return e(n(r),o,t)}}(t,n):f(t)});return i.columns=o||[],i},parseRows:e,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(r).join(t)].concat(e.map(function(e){return n.map(function(t){return r(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}},zt=(Zt(","),Zt("\t"),new Date),Wt=new Date,Vt=g(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Vt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?g(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Vt:null};var Xt=6e4,Jt=6048e5,Qt=(g(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),g(function(t){t.setTime(Math.floor(t/Xt)*Xt)},function(t,e){t.setTime(+t+e*Xt)},function(t,e){return(e-t)/Xt},function(t){return t.getMinutes()}),g(function(t){var e=t.getTimezoneOffset()*Xt%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),g(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xt)/864e5},function(t){return t.getDate()-1})),qt=h(0),Gt=h(1),Kt=(h(2),h(3),h(4)),te=(h(5),h(6),g(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),g(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));te.every=function(t){return isFinite(t=Math.floor(t))&&t>0?g(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};g(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Xt)},function(t,e){return(e-t)/Xt},function(t){return t.getUTCMinutes()}),g(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()});var ee=g(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),ne=d(0),re=d(1),oe=(d(2),d(3),d(4)),ie=(d(5),d(6),g(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),g(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));ie.every=function(t){return isFinite(t=Math.floor(t))&&t>0?g(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ue,ae,ce,se,le,fe={"-":"",_:" ",0:"0"},ge=/^\s*\d+/,he=/^%/,de=/[\\^$*+?|[\]().{}]/g;!function(t){ue=function(t){function e(t,e){return function(n){var r,o,i,u=[],a=-1,c=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(o=fe[r=t.charAt(++a)])?r=t.charAt(++a):o="e"===r?" ":"0",(i=e[r])&&(r=i(n,o)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function n(t,e){return function(n){var o,i,u=p(1900);if(r(u,t,n+="",0)!=n.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(o=(i=(o=v(p(u.y))).getUTCDay())>4||0===i?re.ceil(o):re(o),o=ee.offset(o,7*(u.V-1)),u.y=o.getUTCFullYear(),u.m=o.getUTCMonth(),u.d=o.getUTCDate()+(u.w+6)%7):(o=(i=(o=e(p(u.y))).getDay())>4||0===i?Gt.ceil(o):Gt(o),o=Qt.offset(o,7*(u.V-1)),u.y=o.getFullYear(),u.m=o.getMonth(),u.d=o.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),i="Z"in u?v(p(u.y)).getUTCDay():e(p(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(i+5)%7:u.w+7*u.U-(i+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,v(u)):e(u)}}function r(t,e,n,r){for(var o,i,u=0,a=e.length,c=n.length;u<a;){if(r>=c)return-1;if(37===(o=e.charCodeAt(u++))){if(o=e.charAt(u++),!(i=kt[o in fe?e.charAt(u++):o])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}var o=t.dateTime,i=t.date,u=t.time,a=t.periods,c=t.days,s=t.shortDays,l=t.months,f=t.shortMonths,g=T(a),h=C(a),d=T(c),w=C(c),y=T(s),Ut=C(s),Dt=T(l),bt=C(l),St=T(f),It=C(f),xt={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:$,e:$,f:W,H:N,I:P,j:Z,L:z,m:V,M:X,p:function(t){return a[+(t.getHours()>=12)]},Q:Mt,s:_t,S:J,u:Q,U:q,V:G,w:K,W:tt,x:null,X:null,y:et,Y:nt,Z:rt,"%":Ct},Et={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return f[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:ot,e:ot,f:st,H:it,I:ut,j:at,L:ct,m:lt,M:ft,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Mt,s:_t,S:gt,u:ht,U:dt,V:mt,w:vt,W:pt,x:null,X:null,y:wt,Y:yt,Z:Tt,"%":Ct},kt={a:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.w=Ut[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=w[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=St.exec(e.slice(n));return r?(t.m=It[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=Dt.exec(e.slice(n));return r?(t.m=bt[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return r(t,o,e,n)},d:k,e:k,f:O,H:H,I:H,j:F,L:A,m:E,M:L,p:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},Q:B,s:R,S:Y,u:_,U:U,V:D,w:M,W:b,x:function(t,e,n){return r(t,i,e,n)},X:function(t,e,n){return r(t,u,e,n)},y:I,Y:S,Z:x,"%":j};return xt.x=e(i,xt),xt.X=e(u,xt),xt.c=e(o,xt),Et.x=e(i,Et),Et.X=e(u,Et),Et.c=e(o,Et),{format:function(t){var n=e(t+="",xt);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",m);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Et);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,v);return e.toString=function(){return t},e}}}(t),ae=ue.format,ce=ue.parse,se=ue.utcFormat,le=ue.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var me="%Y-%m-%dT%H:%M:%S.%LZ",ve=(Date.prototype.toISOString||se(me),+new Date("2000-01-01T00:00:00.000Z")||le(me),"https://himawari8-dl.nict.go.jp/himawari8/img/"),pe="https://epic.gsfc.nasa.gov/archive/",we="http://goes.gsfc.nasa.gov/goescolor/goeseast/overview2/color_lrg/latestfull.jpg",ye="http://goes.gsfc.nasa.gov/goescolor/goeswest/overview2/color_lrg/latestfull.jpg",Te="http://rammb-slider.cira.colostate.edu/data/",Ce="https://epic.gsfc.nasa.gov",Me="INFRARED_FULL",_e="D531106",Ue="EPIC",De="EPIC_ENHANCED",be="GOES_EAST",Se="GOES_WEST",Ie="GOES_16",xe=550,Ee=[1,4,8,16,20],ke=678,Fe=[1,2,4,8,16],He=2048,Le=3072,Ye=.9,Ae="imageData",Oe="cachedDate",je="cachedImageType",Be=null,Re=window.browser,$e="browser"in window&&!!Re.storage,Ne={animated:!1,imageType:_e},Pe=null,Ze=null;window.setInterval(kt,6e4),window.addEventListener("online",kt),$e?Re.storage.sync.get(Ne).then(function(t){t.animated?document.body.classList.add("animated"):document.body.classList.remove("animated"),Ft()}):Ft(),window.setInterval(function(){Pe&&St(Pe)},1e4),$e&&(Re.storage.onChanged.addListener(kt),document.body.classList.add("extension"),document.getElementById("go-to-options").addEventListener("click",function(){Re.runtime.openOptionsPage()})),document.getElementById("explore").addEventListener("click",function(){switch(Ze){case Ue:window.open(Ce,"_self");case De:window.open("https://epic.gsfc.nasa.gov/enhanced","_self");break;case Ie:window.open("http://rammb-slider.cira.colostate.edu/","_self");break;case Me:case _e:window.open("http://himawari8.nict.go.jp/himawari8-image.htm?sI=D531106","_self");break;default:window.alert("No explorer found.")}})}();
//# sourceMappingURL=bundle.js.map
