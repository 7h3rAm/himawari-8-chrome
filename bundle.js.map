{"version":3,"file":"bundle.js","sources":["node_modules/d3-queue/src/queue.js","node_modules/d3-collection/src/map.js","node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-request/src/request.js","node_modules/d3-dsv/src/dsv.js","node_modules/d3-time/src/interval.js","node_modules/d3-time/src/week.js","node_modules/d3-time/src/utcWeek.js","node_modules/d3-time-format/src/locale.js","src/main.ts","node_modules/tslib/tslib.es6.js","node_modules/d3-queue/src/array.js","node_modules/d3-request/src/type.js","node_modules/d3-request/src/html.js","node_modules/d3-request/src/json.js","node_modules/d3-request/src/text.js","node_modules/d3-request/src/xml.js","node_modules/d3-dsv/src/csv.js","node_modules/d3-dsv/src/tsv.js","node_modules/d3-time/src/millisecond.js","node_modules/d3-time/src/duration.js","node_modules/d3-time/src/day.js","node_modules/d3-time/src/second.js","node_modules/d3-time/src/minute.js","node_modules/d3-time/src/hour.js","node_modules/d3-time/src/year.js","node_modules/d3-time/src/month.js","node_modules/d3-time/src/utcMinute.js","node_modules/d3-time/src/utcHour.js","node_modules/d3-time/src/utcDay.js","node_modules/d3-time/src/utcYear.js","node_modules/d3-time/src/utcMonth.js","node_modules/d3-time-format/src/defaultLocale.js","node_modules/d3-time-format/src/isoFormat.js","node_modules/d3-time-format/src/isoParse.js"],"sourcesContent":["import {slice} from \"./array\";\n\nvar noabort = {};\n\nfunction Queue(size) {\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"defer after await\");\n    if (this._error != null) return this;\n    var t = slice.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback\");\n    if (this._call) throw new Error(\"multiple await\");\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke(q) {\n  if (!q._start) {\n    try { start(q); } // let the current task complete\n    catch (e) {\n      if (q._tasks[q._ended + q._active - 1]) abort(q, e); // task errored synchronously\n      else if (!q._data) throw e; // await callback errored synchronously\n    }\n  }\n}\n\nfunction start(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) {\n        try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) {\n    var d = q._data;\n    q._data = undefined; // allow gc\n    q._call(q._error, d);\n  }\n}\n\nexport default function queue(concurrency) {\n  if (concurrency == null) concurrency = Infinity;\n  else if (!((concurrency = +concurrency) >= 1)) throw new Error(\"invalid concurrency\");\n  return new Queue(concurrency);\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","var EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns;\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // current line number\n        t, // current token\n        eof = N <= 0, // current token followed by EOF?\n        eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i, j = I, c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE);\n        if ((i = I) >= N) eof = true;\n        else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;\n        else if (c === RETURN) { eol = true; if (text.charCodeAt(I) === NEWLINE) ++I; }\n        else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) row.push(t), t = token();\n      if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import {queue} from \"d3-queue\";\nimport {json} from \"d3-request\";\nimport {utcFormat, utcParse} from \"d3-time-format\";\n\n// base url for images\nconst HIMAWARI_BASE_URL = \"https://himawari8-dl.nict.go.jp/himawari8/img/\";\nconst DSCOVR_BASE_URL = \"https://epic.gsfc.nasa.gov/archive/\";\n\nconst GOES_EAST_URL = \"http://goes.gsfc.nasa.gov/goescolor/goeseast/overview2/color_lrg/latestfull.jpg\";\nconst GOES_WEST_URL = \"http://goes.gsfc.nasa.gov/goescolor/goeswest/overview2/color_lrg/latestfull.jpg\";\n\nconst SLIDER_BASE_URL = \"http://rammb-slider.cira.colostate.edu/data/\";\n\n// links to online image explorers\nconst HIMAWARI_EXPLORER = \"http://himawari8.nict.go.jp/himawari8-image.htm?sI=D531106\";\nconst DSCOVR_EXPLORER = \"https://epic.gsfc.nasa.gov\";\nconst DSCOVR_EXPLORER_ENHANCED = DSCOVR_EXPLORER + \"/enhanced\";\nconst SLIDER_EXPLORER = \"http://rammb-slider.cira.colostate.edu/\";\n\n// image types\nconst INFRARED = \"INFRARED_FULL\";\nconst VISIBLE_LIGHT = \"D531106\";\nconst DSCOVR_EPIC = \"EPIC\";\nconst DSCOVR_EPIC_ENHANCED = \"EPIC_ENHANCED\";\nconst GOES_EAST = \"GOES_EAST\";  // GOES 13\nconst GOES_WEST = \"GOES_WEST\";  // GOES 15\nconst GOES_16 = \"GOES_16\";\n\ntype ImageType = typeof INFRARED | typeof VISIBLE_LIGHT | typeof DSCOVR_EPIC |\n  typeof DSCOVR_EPIC_ENHANCED | typeof GOES_EAST | typeof GOES_WEST | typeof GOES_16;\n\nconst HIMAWARI_WIDTH = 550;\nconst HIMAWARI_BLOCK_SIZES = [1, 4, 8, 16, 20];\n\nconst SLIDER_WIDTH = 678;\nconst SLIDER_BLOCK_SIZES = [1, 2, 4, 8, 16];\n\nconst DSCOVR_WIDTH = 2048;\nconst GOES_WIDTH = 3072;\n\nconst IMAGE_QUALITY = 0.9;\nconst RELOAD_INTERVAL = 1 * 60 * 1000;  // 1 minutes\nconst RELOAD_TIME_INTERVAL = 10 * 1000;  // 10 seconds\n\n// local storage keys\nconst IMAGE_DATA_KEY = \"imageData\";\nconst CACHED_DATE_KEY = \"cachedDate\";\nconst CACHED_IMAGE_TYPE_KEY = \"cachedImageType\";\n\n// unknown date\nconst UNKNOWN: Date = null;\n\nconst isExtension = \"chrome\" in window && !!(window as any).chrome.storage;\n\ninterface ITile {\n  x: number;\n  y: number;\n  url: string;\n}\n\n/**\n * Returns an array of objects containing URLs and metadata\n * for Himawari 8 image tiles based on a given date.\n * Options:\n * - date: Date object\n * - type: boolean (default: visible light)\n * - blocks: alternative to zoom, how many images per row/column (default: 1)\n *      Has to be a valid block number (1, 4, 8, 16, 20)\n *\n * @param  {Object}       options\n */\nfunction himawariURLs(options: {date: Date, type?: ImageType, blocks: number}) {\n  const baseURL = HIMAWARI_BASE_URL + (options.type || VISIBLE_LIGHT);\n  const date = options.date;\n\n  // Define some image parameters\n  const blocks = options.blocks;\n\n  // compose URL\n  const tilesURL = `${baseURL}/${blocks}d/${HIMAWARI_WIDTH}/${utcFormat(\"%Y/%m/%d/%H%M%S\")(date)}`;\n  const tiles: ITile[] = [];\n\n  for (let y = 0; y < blocks; y++) {\n    for (let x = 0; x < blocks; x++) {\n      const url = `${tilesURL}_${x}_${y}.png`;\n\n      tiles.push({\n        url: getCachedUrl(url),\n        x,\n        y,\n      });\n    }\n  }\n\n  return {\n    blocks,\n    date,\n    tiles,\n  };\n}\n\nfunction sliderURLs(options: {date: Date, blocks: number, level: number}) {\n  const date = options.date;\n\n  const blocks = options.blocks;\n  const level = options.level;\n\n  const formattedDate = utcFormat(\"%Y%m%d\")(options.date);\n  const formattedDateTime = utcFormat(\"%Y%m%d%H%M%S\")(options.date);\n\n  const tilesURL = `${SLIDER_BASE_URL}/imagery/${formattedDate}/goes-16---full_disk/geocolor/${formattedDateTime}/`;\n  const tiles: ITile[] = [];\n\n  for (let y = 0; y < blocks; y++) {\n    for (let x = 0; x < blocks; x++) {\n      const url = `${tilesURL}${pad(level, 2)}/${pad(y, 3)}_${pad(x, 3)}.png`;\n\n      tiles.push({\n        url: getCachedUrl(url),\n        x,\n        y,\n      });\n    }\n  }\n\n  return {\n    blocks,\n    date,\n    tiles,\n  };\n}\n\n/**\n * Create a cached URL thanks to our friends at Google.\n * See https://gist.github.com/carlo/5379498\n *\n * Default caching is 5 days, in seconds\n */\nfunction getCachedUrl(url: string, cache = 5 * 24 * 60 * 60) {\n  return `https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?url=${url}&container=focus&refresh=${cache}`;\n}\n\n/**\n * Pads a number with trailing zeros and makes it a string.\n */\nfunction pad(num: string | number, size: number) {\n  let s = num + \"\";\n  while (s.length < size) {\n    s = \"0\" + s;\n  }\n  return s;\n}\n\n/**\n * Get the date of the latest Himawari image by making an Ajax request.\n * @param   {string}  imageType  The type of image\n * @returns {function}           callback function\n */\nfunction getLatestHimawariDate(imageType: ImageType, cb: (date: Date) => void) {\n  json(\"https://himawari-8.appspot.com/latest\" + (imageType === INFRARED ? \"?infrared=true\" : \"\"),\n    (error, data: {date: string}) => {\n      if (error) { throw error; }\n      const latest = data.date;\n      cb(utcParse(\"%Y-%m-%d %H:%M:%S\")(latest));\n    });\n}\n\nfunction getLatestDscovrDate(imageType: ImageType, cb: (latest: {date: Date, image: string}) => void) {\n  json(\"http://epic.gsfc.nasa.gov/api/\" + (imageType === DSCOVR_EPIC_ENHANCED ? \"enhanced\" : \"natural\"),\n    (error, data: Array<{date: string, image: string}>) => {\n      if (error) { throw error; }\n      if (data.length === 0) { return; }\n      const latest = data[data.length - 1];\n      cb({\n        date: utcParse(\"%Y-%m-%d %H:%M:%S\")(latest.date),\n        image: latest.image,\n      });\n    });\n}\n\nfunction getLatestSliderDate(cb: (date: Date) => void) {\n  json(`${SLIDER_BASE_URL}json/goes-16/full_disk/geocolor/latest_times.json`, (error, data: {timestamps_int: string[]}) => {\n    if (error) { throw error; }\n    cb(utcParse(\"%Y%m%d%H%M%S\")(data.timestamps_int[0]));\n  });\n}\n\n/**\n * Looks at the screen resolution and figures out a zoom level that returns images at a sufficient resolution.\n */\nfunction getOptimalNumberOfBlocks(width: number, sizes: number[]): {blocks: number, level: number} {\n  const height = (document.getElementById(\"output\")!).clientHeight * window.devicePixelRatio;\n  const minNumber = height / width;\n\n  for (let level = 0; level < sizes.length; level++) {\n    const blocks = sizes[level];\n    if (blocks > minNumber) {\n      return {blocks, level};\n    }\n  }\n\n  const lastLevel = sizes.length - 1;\n  return {blocks: sizes[lastLevel], level: lastLevel};\n}\n\n// the date that is currently loaded\nlet loadedDate: Date = null;\nlet loadedType: ImageType = null;\n\nfunction timeSince(date: Date) {\n  const seconds = Math.floor(((new Date()).getTime() - date.getTime()) / 1000);\n\n  let interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\nfunction updateTimeAgo(date: Date) {\n  if (date === UNKNOWN) {\n    document.getElementById(\"time\").innerHTML = \"\";\n  } else {\n    document.getElementById(\"time\").innerHTML = `<abbr title=\"${date}\">${timeSince(date)}</abbr> ago`;\n  }\n}\n\n/*\n * Set the right class on the body so that we can have different css.\n */\nfunction setBodyClass(imageType: ImageType) {\n  document.body.classList.remove(\"himawari\");\n  document.body.classList.remove(\"dscovr\");\n  document.body.classList.remove(\"goes\");\n  document.body.classList.remove(\"goes16\");\n\n  switch (imageType) {\n    case INFRARED:\n    case VISIBLE_LIGHT:\n      document.body.classList.add(\"himawari\");\n      break;\n    case DSCOVR_EPIC:\n    case DSCOVR_EPIC_ENHANCED:\n      document.body.classList.add(\"dscovr\");\n      break;\n    case GOES_16:\n      document.body.classList.add(\"goes16\");\n      break;\n    case GOES_EAST:\n    case GOES_WEST:\n      document.body.classList.add(\"goes\");\n      break;\n    default:\n      console.warn(\"Unknown image type\", imageType);\n  }\n}\n\nfunction updateStateAndUI(date: Date, imageType: ImageType) {\n  updateTimeAgo(date);\n  loadedDate = date;\n  setBodyClass(imageType);\n  loadedType = imageType;\n}\n\n/**\n * Creates an image composed of tiles.\n * @param {Date object} date  The date for which to load the data.\n */\nfunction setHimawariImages(date: Date, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(date, imageType);\n  }\n\n  // get the URLs for all tiles\n  const result = himawariURLs({\n    blocks: getOptimalNumberOfBlocks(HIMAWARI_WIDTH, HIMAWARI_BLOCK_SIZES).blocks,\n    date,\n    type: imageType,\n  });\n\n  const pixels = result.blocks * HIMAWARI_WIDTH;\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\")!;\n  ctx.canvas.width = pixels;\n  ctx.canvas.height = pixels;\n\n  const q = queue();\n\n  // add image to canvas and call callback when done\n  function addImage(tile: ITile, callback: () => void) {\n    const img = new Image();\n    img.setAttribute(\"crossOrigin\", \"anonymous\");\n    img.onload = () => {\n      ctx.drawImage(img, tile.x * HIMAWARI_WIDTH, tile.y * HIMAWARI_WIDTH, HIMAWARI_WIDTH, HIMAWARI_WIDTH);\n      callback();\n    };\n    img.src = tile.url;\n  }\n\n  result.tiles.forEach(tile => {\n    q.defer(addImage, tile);\n  });\n\n  // wait for all images to be drawn on canvas\n  q.awaitAll(error => {\n    if (error) { throw error; }\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = pixels;\n      outCtx.canvas.height = pixels;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(date, imageType);\n\n    // put date and image data in cache\n    const imageData = canvas.toDataURL(\"image/jpeg\", IMAGE_QUALITY);\n    localStorage.setItem(IMAGE_DATA_KEY, imageData);\n    localStorage.setItem(CACHED_DATE_KEY, date.toDateString());\n    localStorage.setItem(CACHED_IMAGE_TYPE_KEY, imageType);\n  });\n}\n\nfunction setDscovrImage(latest: {date: Date, image: string}, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && latest.date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(latest.date, imageType);\n  }\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.canvas.width = DSCOVR_WIDTH;\n  ctx.canvas.height = DSCOVR_WIDTH;\n\n  const img = new Image();\n  img.setAttribute(\"crossOrigin\", \"anonymous\");\n  img.onload = () => {\n    ctx.drawImage(img, 0, 0);\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = DSCOVR_WIDTH;\n      outCtx.canvas.height = DSCOVR_WIDTH;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(latest.date, imageType);\n\n    // put date and image data in cache\n    const imageData = canvas.toDataURL(\"image/jpeg\", IMAGE_QUALITY);\n    localStorage.setItem(IMAGE_DATA_KEY, imageData);\n    localStorage.setItem(CACHED_DATE_KEY, latest.date.toDateString());\n    localStorage.setItem(CACHED_IMAGE_TYPE_KEY, imageType);\n  };\n\n  const type = imageType === DSCOVR_EPIC_ENHANCED ? \"enhanced\" : \"natural\";\n  const month = pad(latest.date.getMonth() + 1, 2);\n  const date = pad(latest.date.getDate(), 2);\n  img.src = getCachedUrl(`${DSCOVR_BASE_URL}${type}/${latest.date.getFullYear()}/${month}/${date}/png/${latest.image}.png`);\n}\n\nfunction setGoesImage(imageType: ImageType) {\n  // if we haven't loaded images before, we want to show progress\n  const key = localStorage.getItem(CACHED_IMAGE_TYPE_KEY);\n  const initialLoad = !key || (key !== GOES_EAST && key !== GOES_WEST);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(UNKNOWN, imageType);\n  }\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.canvas.width = GOES_WIDTH;\n  ctx.canvas.height = GOES_WIDTH;\n\n  const img = new Image();\n  img.setAttribute(\"crossOrigin\", \"anonymous\");\n  img.onload = () => {\n    ctx.drawImage(img, 0, 0);\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = GOES_WIDTH;\n      outCtx.canvas.height = GOES_WIDTH;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(UNKNOWN, imageType);\n\n    // put date and image data in cache\n    const imageData = canvas.toDataURL(\"image/jpeg\", IMAGE_QUALITY);\n    localStorage.setItem(IMAGE_DATA_KEY, imageData);\n    localStorage.setItem(CACHED_DATE_KEY, String(UNKNOWN));\n    localStorage.setItem(CACHED_IMAGE_TYPE_KEY, imageType);\n  };\n\n  img.src = getCachedUrl(imageType === GOES_WEST ? GOES_WEST_URL : GOES_EAST_URL, 60 * 60);\n}\n\nfunction setSliderImages(date: Date, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(date, imageType);\n  }\n\n  // get the URLs for all tiles\n  const result = sliderURLs({\n    date,\n    ...getOptimalNumberOfBlocks(SLIDER_WIDTH, SLIDER_BLOCK_SIZES),\n  });\n\n  const pixels = result.blocks * HIMAWARI_WIDTH;\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\")!;\n  ctx.canvas.width = pixels;\n  ctx.canvas.height = pixels;\n\n  const q = queue();\n\n  // add image to canvas and call callback when done\n  function addImage(tile: ITile, callback: () => void) {\n    const img = new Image();\n    img.setAttribute(\"crossOrigin\", \"anonymous\");\n    img.onload = () => {\n      ctx.drawImage(img, tile.x * HIMAWARI_WIDTH, tile.y * HIMAWARI_WIDTH, HIMAWARI_WIDTH, HIMAWARI_WIDTH);\n      callback();\n    };\n    img.src = tile.url;\n  }\n\n  result.tiles.forEach(tile => {\n    q.defer(addImage, tile);\n  });\n\n  // wait for all images to be drawn on canvas\n  q.awaitAll(error => {\n    if (error) { throw error; }\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = pixels;\n      outCtx.canvas.height = pixels;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(date, imageType);\n\n    // put date and image data in cache\n    const imageData = canvas.toDataURL(\"image/jpeg\", IMAGE_QUALITY);\n    localStorage.setItem(IMAGE_DATA_KEY, imageData);\n    localStorage.setItem(CACHED_DATE_KEY, date.toDateString());\n    localStorage.setItem(CACHED_IMAGE_TYPE_KEY, imageType);\n  });\n}\n\n/* Asynchronously load latest image(s) date and images for that date */\nfunction setLatestImage() {\n  if (!navigator.onLine) {\n    // browser is offline, no need to do this\n    return;\n  }\n\n  function himawariCallback(imageType: ImageType) {\n    getLatestHimawariDate(imageType, (latest: Date) => {\n      setHimawariImages(latest, imageType);\n    });\n  }\n\n  function dscovrCallback(imageType: ImageType) {\n    getLatestDscovrDate(imageType, (latest: {date: Date, image: string}) => {\n      setDscovrImage(latest, imageType);\n    });\n  }\n\n  function sliderCallback(imageType: ImageType) {\n    getLatestSliderDate((latest: Date) => {\n      setSliderImages(latest, imageType);\n    });\n  }\n\n  if (isExtension) {\n    const query = {\n      animated: false,\n      imageType: VISIBLE_LIGHT,\n    };\n\n    const callback = (options: {imageType: ImageType, animated: boolean}) => {\n\n      // enable and disable animation\n      if (options.animated) {\n        document.body.classList.add(\"animated\");\n      } else {\n        document.body.classList.remove(\"animated\");\n      }\n\n      switch (options.imageType) {\n        case DSCOVR_EPIC:\n        case DSCOVR_EPIC_ENHANCED:\n          dscovrCallback(options.imageType);\n          break;\n        case GOES_EAST:\n        case GOES_WEST:\n          setGoesImage(options.imageType);\n          break;\n        case GOES_16:\n          sliderCallback(options.imageType);\n          break;\n        case INFRARED:\n        case VISIBLE_LIGHT:\n        default:\n          himawariCallback(options.imageType);\n          break;\n      }\n    };\n\n    if (\"browser\" in window) {\n      // Firefox uses a promise based API.\n      (window as any).browser.storage.sync.get(query).then(callback);\n    } else {\n      // Chrome uses callbacks.\n      (window as any).chrome.storage.sync.get(query, callback);\n    }\n  } else {\n    // if we are not in the extension, let's always load visible light\n    himawariCallback(VISIBLE_LIGHT);\n  }\n}\n\n/** Load image from local storage */\nfunction setCachedImage() {\n  const canvas = document.getElementById(\"output\") as HTMLCanvasElement;\n  const ctx = canvas.getContext(\"2d\");\n  const date = new Date(localStorage.getItem(CACHED_DATE_KEY));\n\n  const img = new Image();\n  img.onload = () => {\n    ctx.canvas.width = img.width;\n    ctx.canvas.height = img.height;\n    ctx.drawImage(img, 0, 0);\n\n    updateStateAndUI(date, localStorage.getItem(CACHED_IMAGE_TYPE_KEY) as ImageType);\n  };\n  img.src = localStorage.getItem(IMAGE_DATA_KEY);\n}\n\n// check if there are new images form time to time\nwindow.setInterval(setLatestImage, RELOAD_INTERVAL);\n\n// also load a new image when we come back online\nwindow.addEventListener(\"online\", setLatestImage);\n\n// initial loading\nif (localStorage.getItem(CACHED_DATE_KEY)) {\n  setCachedImage();\n}\nsetLatestImage();\n\n// update the time ago\nwindow.setInterval(() => {\n  if (loadedDate) {\n    updateTimeAgo(loadedDate);\n  }\n}, RELOAD_TIME_INTERVAL);\n\n// hide some things if we are not an extension\nif (isExtension) {\n  // when we are in an extension and the storage updates, try to load the new image\n  (window as any).chrome.storage.onChanged.addListener(setLatestImage);\n\n  document.body.classList.add(\"extension\");\n  document.getElementById(\"go-to-options\").addEventListener(\"click\", () => {\n    (window as any).chrome.runtime.openOptionsPage();\n  });\n}\n\ndocument.getElementById(\"explore\").addEventListener(\"click\", () => {\n  switch (loadedType) {\n    case DSCOVR_EPIC:\n      window.open(DSCOVR_EXPLORER, \"_self\");\n    case DSCOVR_EPIC_ENHANCED:\n      window.open(DSCOVR_EXPLORER_ENHANCED, \"_self\");\n      break;\n    case GOES_16:\n      window.open(SLIDER_EXPLORER, \"_self\");\n      break;\n    case INFRARED:\n    case VISIBLE_LIGHT:\n      window.open(HIMAWARI_EXPLORER, \"_self\");\n      break;\n    default:\n      window.alert(\"No explorer found.\");\n      break;\n  }\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n","export var slice = [].slice;\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","import type from \"./type\";\n\nexport default type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n"],"names":["Queue","size","this","_size","_call","_error","_tasks","_data","_waiting","_active","_ended","_start","poke","q","start","e","abort","i","t","j","length","c","end","apply","noabort","r","maybeNotify","undefined","NaN","d","queue","concurrency","Infinity","Error","Map","map","object","f","each","value","key","set","Array","isArray","o","n","dispatch","arguments","_","Dispatch","parseTypenames","typenames","types","trim","split","name","indexOf","slice","hasOwnProperty","type","get","callback","noop","concat","push","fixCallback","error","xhr","hasResponse","responseType","response","responseText","objectConverter","columns","Function","JSON","stringify","join","customConverter","row","inferColumns","rows","columnSet","Object","create","forEach","column","newInterval","floori","offseti","count","field","interval","date","Date","floor","ceil","round","d0","d1","offset","step","Math","range","stop","filter","test","setTime","t0","t1","every","isFinite","weekday","setDate","getDate","getDay","setHours","getTimezoneOffset","durationMinute","durationWeek","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","localDate","y","m","H","M","S","L","setFullYear","utcDate","UTC","setUTCFullYear","newYear","formatLocale","locale","newFormat","specifier","formats","pad","format","string","charCodeAt","pads","charAt","newParse","newDate","week","day","parseSpecifier","Q","p","V","w","utcMonday","utcDay","getUTCFullYear","getUTCMonth","timeMonday","timeDay","getFullYear","getMonth","u","W","U","Z","parse","parses","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","a","A","b","B","formatDayOfMonth","formatMicroseconds","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","getHours","formatUnixTimestamp","s","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","x","X","formatYear","Y","formatFullYear","formatZone","%","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","getUTCHours","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","exec","toLowerCase","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","toString","utcFormat","utcParse","fill","width","sign","requote","replace","requoteRe","names","RegExp","numberRe","percentRe","timeYear","getMilliseconds","getMinutes","getSeconds","timeSunday","timeThursday","z","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","dow","utcSunday","utcThursday","options","baseURL","HIMAWARI_BASE_URL","VISIBLE_LIGHT","blocks","tilesURL","HIMAWARI_WIDTH","tiles","url","getCachedUrl","level","formattedDate","formattedDateTime","SLIDER_BASE_URL","cache","num","imageType","cb","json","INFRARED","data","latest","DSCOVR_EPIC_ENHANCED","image","timestamps_int","sizes","minNumber","document","getElementById","clientHeight","window","devicePixelRatio","lastLevel","seconds","getTime","innerHTML","UNKNOWN","timeSince","body","classList","remove","add","DSCOVR_EPIC","GOES_16","GOES_EAST","GOES_WEST","console","warn","updateTimeAgo","loadedDate","setBodyClass","loadedType","tile","img","Image","setAttribute","onload","ctx","drawImage","src","initialLoad","localStorage","getItem","CACHED_DATE_KEY","updateStateAndUI","result","himawariURLs","getOptimalNumberOfBlocks","HIMAWARI_BLOCK_SIZES","pixels","canvas","createElement","getContext","height","defer","addImage","awaitAll","outCtx","imageData","toDataURL","IMAGE_QUALITY","setItem","IMAGE_DATA_KEY","toDateString","CACHED_IMAGE_TYPE_KEY","DSCOVR_WIDTH","month","DSCOVR_BASE_URL","GOES_WIDTH","String","GOES_WEST_URL","GOES_EAST_URL","sliderURLs","SLIDER_WIDTH","SLIDER_BLOCK_SIZES","getLatestHimawariDate","setHimawariImages","getLatestDscovrDate","setDscovrImage","getLatestSliderDate","setSliderImages","navigator","onLine","isExtension","query","animated","dscovrCallback","setGoesImage","sliderCallback","himawariCallback","browser","storage","sync","then","chrome","__assign","assign","prototype","call","constructor","await","results","has","property","clear","keys","values","entries","empty","on","typename","T","copy","that","args","respond","status","request","event","mimeType","headers","XMLHttpRequest","user","password","timeout","XDomainRequest","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","send","post","method","open","setRequestHeader","overrideMimeType","defaultMimeType","createRange","createContextualFragment","xml","responseXML","EOL","EOF","QUOTE","NEWLINE","RETURN","delimiter","parseRows","text","token","eof","eol","N","DELIMITER","formatRow","formatValue","reFormat","convert","formatRows","dsv","millisecond","k","sunday","monday","thursday","year","setMonth","setUTCSeconds","setUTCMinutes","setUTCMonth","-","0","definition","defaultLocale","toISOString","setInterval","setLatestImage","addEventListener","setCachedImage","onChanged","addListener","runtime","openOptionsPage","DSCOVR_EXPLORER","alert"],"mappings":"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"}